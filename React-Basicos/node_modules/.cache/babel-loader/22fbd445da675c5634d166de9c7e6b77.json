{"ast":null,"code":"import _regeneratorRuntime from\"/home/ja54312/Documentos/React-jonmircha/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/home/ja54312/Documentos/React-jonmircha/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/home/ja54312/Documentos/React-jonmircha/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/ja54312/Documentos/React-jonmircha/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Pokemon(_ref){var avatar=_ref.avatar,name=_ref.name;return/*#__PURE__*/_jsxs(\"figure\",{children:[/*#__PURE__*/_jsx(\"img\",{src:avatar,alt:name}),/*#__PURE__*/_jsx(\"figcaption\",{children:name})]});}export default function AjaxHooks(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pokemons=_useState2[0],setPokemons=_useState2[1];/* useEffect(() => {\n    let url = \"https://pokeapi.co/api/v2/pokemon/\";\n    fetch(url)\n      .then((res) => res.json())\n      .then((json) => {\n        //console.log(json);\n        json.results.forEach((el) => {\n          fetch(el.url)\n            .then((res) => res.json())\n            .then((json) => {\n              //console.log(json);\n              let pokemon = {\n                id: json.id,\n                name: json.name,\n                avatar: json.sprites.front_default,\n              };\n              setPokemons((pokemons) => [...pokemons, pokemon]);\n            });\n        });\n      });\n  }, []); */useEffect(function(){var getPokemons=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url){var res,json;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(url);case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:json=_context2.sent;//console.log(json);\njson.results.forEach(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(el){var res,json,pokemon;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(el.url);case 2:res=_context.sent;_context.next=5;return res.json();case 5:json=_context.sent;//console.log(json);\npokemon={id:json.id,name:json.name,avatar:json.sprites.front_default};setPokemons(function(pokemons){return[].concat(_toConsumableArray(pokemons),[pokemon]);});case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref3.apply(this,arguments);};}());case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function getPokemons(_x){return _ref2.apply(this,arguments);};}();getPokemons(\"https://pokeapi.co/api/v2/pokemon/\");},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Peticiones As\\xEDncronas en Hooks\"}),pokemons.length===0?/*#__PURE__*/_jsx(\"h3\",{children:\"Cargando...\"}):pokemons.map(function(el){return/*#__PURE__*/_jsx(Pokemon,{name:el.name,avatar:el.avatar},el.id);})]});}","map":{"version":3,"sources":["/home/ja54312/Documentos/React-jonmircha/my-app/src/components/AjaxHooks.js"],"names":["React","useState","useEffect","Pokemon","avatar","name","AjaxHooks","pokemons","setPokemons","getPokemons","url","fetch","res","json","results","forEach","el","pokemon","id","sprites","front_default","length","map"],"mappings":"6pBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,C,6IAEA,QAASC,CAAAA,OAAT,MAAmC,IAAhBC,CAAAA,MAAgB,MAAhBA,MAAgB,CAARC,IAAQ,MAARA,IAAQ,CACjC,mBACE,uCACE,YAAK,GAAG,CAAED,MAAV,CAAkB,GAAG,CAAEC,IAAvB,EADF,cAEE,4BAAaA,IAAb,EAFF,GADF,CAMD,CAED,cAAe,SAASC,CAAAA,SAAT,EAAqB,CAClC,cAAgCL,QAAQ,CAAC,EAAD,CAAxC,wCAAOM,QAAP,eAAiBC,WAAjB,eAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAEEN,SAAS,CAAC,UAAM,CACd,GAAMO,CAAAA,WAAW,2FAAG,kBAAOC,GAAP,0JACFC,CAAAA,KAAK,CAACD,GAAD,CADH,QACdE,GADc,uCAEHA,CAAAA,GAAG,CAACC,IAAJ,EAFG,QAEhBA,IAFgB,gBAGlB;AAEAA,IAAI,CAACC,OAAL,CAAaC,OAAb,2FAAqB,iBAAOC,EAAP,6JACHL,CAAAA,KAAK,CAACK,EAAE,CAACN,GAAJ,CADF,QACfE,GADe,qCAEJA,CAAAA,GAAG,CAACC,IAAJ,EAFI,QAEjBA,IAFiB,eAInB;AACII,OALe,CAKL,CACZC,EAAE,CAAEL,IAAI,CAACK,EADG,CAEZb,IAAI,CAAEQ,IAAI,CAACR,IAFC,CAGZD,MAAM,CAAES,IAAI,CAACM,OAAL,CAAaC,aAHT,CALK,CAWnBZ,WAAW,CAAC,SAACD,QAAD,qCAAkBA,QAAlB,GAA4BU,OAA5B,IAAD,CAAX,CAXmB,sDAArB,kEALkB,wDAAH,kBAAXR,CAAAA,WAAW,6CAAjB,CAoBAA,WAAW,CAAC,oCAAD,CAAX,CACD,CAtBQ,CAsBN,EAtBM,CAAT,CAwBA,mBACE,wCACE,yDADF,CAEGF,QAAQ,CAACc,MAAT,GAAoB,CAApB,cACC,mCADD,CAGCd,QAAQ,CAACe,GAAT,CAAa,SAACN,EAAD,qBACX,KAAC,OAAD,EAAqB,IAAI,CAAEA,EAAE,CAACX,IAA9B,CAAoC,MAAM,CAAEW,EAAE,CAACZ,MAA/C,EAAcY,EAAE,CAACE,EAAjB,CADW,EAAb,CALJ,GADF,CAYD","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nfunction Pokemon({ avatar, name }) {\n  return (\n    <figure>\n      <img src={avatar} alt={name} />\n      <figcaption>{name}</figcaption>\n    </figure>\n  );\n}\n\nexport default function AjaxHooks() {\n  const [pokemons, setPokemons] = useState([]);\n\n  /* useEffect(() => {\n    let url = \"https://pokeapi.co/api/v2/pokemon/\";\n    fetch(url)\n      .then((res) => res.json())\n      .then((json) => {\n        //console.log(json);\n        json.results.forEach((el) => {\n          fetch(el.url)\n            .then((res) => res.json())\n            .then((json) => {\n              //console.log(json);\n              let pokemon = {\n                id: json.id,\n                name: json.name,\n                avatar: json.sprites.front_default,\n              };\n              setPokemons((pokemons) => [...pokemons, pokemon]);\n            });\n        });\n      });\n  }, []); */\n\n  useEffect(() => {\n    const getPokemons = async (url) => {\n      let res = await fetch(url),\n        json = await res.json();\n      //console.log(json);\n\n      json.results.forEach(async (el) => {\n        let res = await fetch(el.url),\n          json = await res.json();\n\n        //console.log(json);\n        let pokemon = {\n          id: json.id,\n          name: json.name,\n          avatar: json.sprites.front_default,\n        };\n\n        setPokemons((pokemons) => [...pokemons, pokemon]);\n      });\n    };\n\n    getPokemons(\"https://pokeapi.co/api/v2/pokemon/\");\n  }, []);\n\n  return (\n    <>\n      <h2>Peticiones As√≠ncronas en Hooks</h2>\n      {pokemons.length === 0 ? (\n        <h3>Cargando...</h3>\n      ) : (\n        pokemons.map((el) => (\n          <Pokemon key={el.id} name={el.name} avatar={el.avatar} />\n        ))\n      )}\n    </>\n  );\n}"]},"metadata":{},"sourceType":"module"}